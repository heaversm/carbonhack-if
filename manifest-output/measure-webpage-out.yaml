name: measure-webpage-demo
description: example manifest for estimating carbon emissions of a webpage
tags: null
initialize:
  plugins:
    timer-start:
      path: '@wr24-greenit/if-webpage-plugins'
      method: TimerStart
    timer-stop:
      path: '@wr24-greenit/if-webpage-plugins'
      method: TimerStop
    green-hosting:
      path: '@wr24-greenit/if-webpage-plugins'
      method: GreenHosting
    measure-webpage:
      path: '@wr24-greenit/if-webpage-plugins'
      method: MeasureWebpage
    co2js:
      path: '@wr24-greenit/if-webpage-plugins'
      method: Co2js
      global-config:
        options:
          firstVisitPercentage: 0.9
          returnVisitPercentage: 0.1
  outputs:
    - yaml
if-version: v0.3.1
tree:
  children:
    child:
      pipeline:
        - timer-start
        - measure-webpage
        - timer-stop
        - green-hosting
        - co2js
      config:
        co2js:
          type: swd
        measure-webpage:
          lighthouse: true
          scrollToBottom: true
      inputs:
        - timestamp: '2024-01-01T00:00:00Z'
          duration: 1
          url: https://www.mozilla.ai/
          resets:
            - true
      outputs:
        - timestamp: '2024-04-07T03:56:17.496Z'
          duration: 22.444
          url: https://www.mozilla.ai/
          network/data/bytes: 1031088
          network/data/resources/bytes:
            document: 8431
            script: 495502
            stylesheet: 16240
            image: 352738
            font: 153137
            other: 4871
            ping: 169
          lighthouse-report: >-
            lighthouse-report-https___www.mozilla.ai_-2024-04-07T03_56_17.496Z.html
          options:
            dataReloadRatio: 0.008567648930062226
          green-web-host: false
          carbon-operational: 0.3102681194424
